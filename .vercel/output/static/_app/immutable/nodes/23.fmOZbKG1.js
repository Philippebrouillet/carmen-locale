import{s as F,e as h,a as v,A as V,c as _,f as P,g as b,q as I,m as n,h as p,i as j,n as G,b as W,B as Q,R as x,S as U,w as X,k as Y}from"../chunks/scheduler.BoY_d1jh.js";import{S as J,i as K,c as Z,b as ee,m as te,a as se,t as le,d as ne}from"../chunks/index.C5ymHmkt.js";import{g as re}from"../chunks/entry.DwtEXdz5.js";import{p as ie}from"../chunks/stores.D3-ZdzJB.js";import{P as oe}from"../chunks/public.BeJSVsf1.js";import{l as ae}from"../chunks/barber-connect.CIIj_fKq.js";function ue(a){let e,s,t,m='<div class="google-icon-wrapper svelte-3d7qj4"><img class="google-icon svelte-3d7qj4" src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="google"/></div> <p class="btn-text svelte-3d7qj4"><b>Sign in with google</b></p>';return{c(){e=h("link"),s=v(),t=h("div"),t.innerHTML=m,this.h()},l(r){const u=V("svelte-1ad57fe",document.head);e=_(u,"LINK",{rel:!0,type:!0,href:!0}),u.forEach(P),s=b(r),t=_(r,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-nlnb04"&&(t.innerHTML=m),this.h()},h(){n(e,"rel","stylesheet"),n(e,"type","text/css"),n(e,"href","//fonts.googleapis.com/css?family=Open+Sans"),n(t,"class","google-btn svelte-3d7qj4")},m(r,u){p(document.head,e),j(r,s,u),j(r,t,u)},p:G,i:G,o:G,d(r){r&&(P(s),P(t)),P(e)}}}class ce extends J{constructor(e){super(),K(this,e,null,ue,F,{})}}function H(a){let e,s="The email field is required";return{c(){e=h("p"),e.textContent=s,this.h()},l(t){e=_(t,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1tg4rl9"&&(e.textContent=s),this.h()},h(){n(e,"class","error svelte-f3uu98")},m(t,m){j(t,e,m)},d(t){t&&P(e)}}}function z(a){let e,s="Invalid credentials!";return{c(){e=h("p"),e.textContent=s,this.h()},l(t){e=_(t,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-opf7fj"&&(e.textContent=s),this.h()},h(){n(e,"class","error svelte-f3uu98")},m(t,m){j(t,e,m)},d(t){t&&P(e)}}}function fe(a){var A,B;let e,s,t,m,r,u,i,w,d,k,g,L,y,E="Login",N,T,M="OR",S,C,q,O,R,c=((A=a[0])==null?void 0:A.missing)&&H(),f=((B=a[0])==null?void 0:B.incorrect)&&z();return C=new ce({}),C.$on("click",pe),{c(){e=h("form"),s=h("img"),m=v(),c&&c.c(),r=v(),f&&f.c(),u=v(),i=h("input"),w=v(),d=h("input"),k=v(),g=h("input"),L=v(),y=h("button"),y.textContent=E,N=v(),T=h("p"),T.textContent=M,S=v(),Z(C.$$.fragment),this.h()},l(o){e=_(o,"FORM",{class:!0});var l=W(e);s=_(l,"IMG",{src:!0,alt:!0,class:!0}),m=b(l),c&&c.l(l),r=b(l),f&&f.l(l),u=b(l),i=_(l,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),w=b(l),d=_(l,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),k=b(l),g=_(l,"INPUT",{name:!0}),L=b(l),y=_(l,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),I(y)!=="svelte-1pffg6p"&&(y.textContent=E),N=b(l),T=_(l,"P",{class:!0,"data-svelte-h":!0}),I(T)!=="svelte-8lmj7z"&&(T.textContent=M),S=b(l),ee(C.$$.fragment,l),l.forEach(P),this.h()},h(){Q(s.src,t=ae)||n(s,"src",t),n(s,"alt","barber connect"),n(s,"class","svelte-f3uu98"),n(i,"class","login-input svelte-f3uu98"),n(i,"name","email"),n(i,"type","email"),n(i,"placeholder","Email"),i.required=!0,n(d,"class","login-input svelte-f3uu98"),n(d,"type","password"),n(d,"name","password"),n(d,"placeholder","Password"),d.required=!0,n(g,"name","redirectTo"),g.value=a[3],g.hidden=!0,n(y,"type","submit"),n(y,"class","login-button svelte-f3uu98"),n(T,"class","svelte-f3uu98"),n(e,"class","login-container svelte-f3uu98")},m(o,l){j(o,e,l),p(e,s),p(e,m),c&&c.m(e,null),p(e,r),f&&f.m(e,null),p(e,u),p(e,i),x(i,a[1]),p(e,w),p(e,d),x(d,a[2]),p(e,k),p(e,g),p(e,L),p(e,y),p(e,N),p(e,T),p(e,S),te(C,e,null),q=!0,O||(R=[U(i,"input",a[6]),U(d,"input",a[7]),U(e,"submit",a[4])],O=!0)},p(o,[l]){var $,D;($=o[0])!=null&&$.missing?c||(c=H(),c.c(),c.m(e,r)):c&&(c.d(1),c=null),(D=o[0])!=null&&D.incorrect?f||(f=z(),f.c(),f.m(e,u)):f&&(f.d(1),f=null),l&2&&i.value!==o[1]&&x(i,o[1]),l&4&&d.value!==o[2]&&x(d,o[2]),(!q||l&8&&g.value!==o[3])&&(g.value=o[3])},i(o){q||(se(C.$$.fragment,o),q=!0)},o(o){le(C.$$.fragment,o),q=!1},d(o){o&&P(e),c&&c.d(),f&&f.d(),ne(C),O=!1,X(R)}}}async function pe(){}function me(a,e,s){let t,m;Y(a,ie,g=>s(5,m=g));let r={missing:!1,incorrect:!1},u,i;async function w(){if(s(0,r={missing:!1,incorrect:!1}),u==null||i==null){s(0,r.missing=!0,r);return}if((await fetch(`${oe}/api/v2/login`,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,secret:i})})).ok){await re(t==""||t==null?"/pro/":`/pro/location/${t}`);return}s(0,r.incorrect=!0,r)}function d(){u=this.value,s(1,u)}function k(){i=this.value,s(2,i)}return a.$$.update=()=>{a.$$.dirty&32&&s(3,t=m.url.searchParams.get("redirectTo"))},[r,u,i,t,w,m,d,k]}class ye extends J{constructor(e){super(),K(this,e,me,fe,F,{})}}export{ye as component};
